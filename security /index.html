<!DOCTYPE html>
<html>
<head>
	<title>Security Report</title>
	<link rel="stylesheet" type="text/css" href="style.css">
</head>

<body>
	<h1>Security Assesment of Assignment 3 Mapchat Server</h1>
	<p>Created by: Steven Manwaring</p>
	<p>December 8, 2015</p>

	<h2>Introduction</h2>
		<p>This page outlines the results of the security risk assessment I conducted on my partner's <a href='http://murmuring-hamlet-4068.herokuapp.com/'>web application</a> from Comp 20 Assignment 3. This application works as the server for the mapchat site that was created in Assignment 2.  The application has a Post API which allows submition of specific data, and returns all documents form the Mongo database associated with the application.  There is also a Get API that returns the latest data for a given login.  However, this application contains some security vulnerabilities.  On this page I will describe the various security issues I discovered in my partner's application and suggest ways in which these vulnerabilities might be avoided.</p>  
	<h2>Methodology</h2>
		<p>I began my testing using the "black box" method.  I used Postman and Tamper Data for this portion of the assignment.  I then examined my partner's code to find additional areas where security risks might exist, and further targeted those areas specifically to discover if they contained vulnerabilities.</p>
	<h2>Abstract of Findings</h2>
	<h2>Issues found</h2>
		<ol>
			<li><p><strong>Cross Site Scripting</strong></p>
			<ul>
				<li>Affects POST /sendLocation</li>
				<li>Severity: <strong>HIGH</strong> Anyone can submit javascript code as their "message" because user input is not sanitized.  Furthermore, any malicious changes made to the page though cross site scripting are visible to all users of the application, and may adversly affect their usage of the website.</li>
				<li>I found this security vulnerability during the "black box" phase of my testing.  Using Postman to post to the server, I sent a short script that sets an alert box to display anytime a user visits the application site.  However, this does not seem to affect my partner's mapchap site.</li>
				<img src="xss1.png" alt='xss alert' title='xss alert'>
				<li>This vulnerability could be resolved by escaping certain characters in user input.  Characters such as the 'greater that' and 'less than' symbols are especially important to deal with, as doing so would have prevent the attack I was able to conduct with relative ease.</li>
			</ul>
			</li>

			<li><p><strong>Cross Origin Resource Sharing Wildcard ('*')</strong></p>
			<ul>
				<li>Affects POST and GET API's</li>
				<li>Severity: <strong>MEDIUM</strong> This is an insecure method, in that it allows any user from any domain to make an XMLHttp Post Request and submit data to the database, provided they have an accurate login.  Likewise, any user from any domain that happens to have an accurate login can use the get method to retrieve data.  While the data in this particular application is not especially private, as good programming practice, cross origin resource sharing should really be limited to a specific domain.  In this case, for both the get and post methods, cross origin resource sharing should be limited to the mapchat Github pages domain.  This can be easily fixed by modifying the response headers to only accept data from a specific domain.  I discovered this problem by examining my partner's code. 
				</li>
			</ul>
			</li>
		</ol>
	<h2>Conclusion</h2>
</body> 

</html>
